"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4387],{52019:function(e,t,n){n.d(t,{u:function(){return h}});var a=n(47568),o=n(51438),r=n(52951),s=n(14924),i=n(88029),l=n(60460),c=n(97582),u=n(32191),d=n(6154),h=function(e){(0,i.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,"tiktok-profiles")}return(0,r.Z)(n,[{key:"getAllUsername",value:function(){var e=this;return(0,a.Z)((function(){return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,d.Z.get("".concat(e.baseUrl,"/get-all-username"))];case 1:return[2,t.sent()]}}))}))()}},{key:"search",value:function(e){var t;return d.Z.post("".concat(this.baseUrl,"/search"),e,{headers:(t={},(0,s.Z)(t,"Content-Type","application/json"),(0,s.Z)(t,"Access-Control-Allow-Origin","*"),(0,s.Z)(t,"Access-Control-Allow-Headers","*"),t)})}},{key:"searchSavedList",value:function(e){var t;return d.Z.post("".concat(this.baseUrl,"/search-saved-list"),e,{headers:(t={},(0,s.Z)(t,"Content-Type","application/json"),(0,s.Z)(t,"Access-Control-Allow-Origin","*"),(0,s.Z)(t,"Access-Control-Allow-Headers","*"),t)})}},{key:"CheckTiktokSaveList",value:function(e,t){var n=this;return(0,a.Z)((function(){var a,o;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return a=localStorage.getItem("accessToken"),[4,d.Z.post("".concat(n.baseUrl,"/save-list"),{tiktokProfileId:e,tiktokSaveListId:t},{headers:(o={},(0,s.Z)(o,"Content-Type","application/json"),(0,s.Z)(o,"Access-Control-Allow-Origin","*"),(0,s.Z)(o,"Access-Control-Allow-Headers","*"),(0,s.Z)(o,"Authorization","Bearer ".concat(a)),o)})];case 1:return[2,r.sent()]}}))}))()}},{key:"UnCheckTiktokSaveList",value:function(e,t){var n=this;return(0,a.Z)((function(){var a,o;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return a=localStorage.getItem("accessToken"),[4,d.Z.delete("".concat(n.baseUrl,"/save-list"),{data:{tiktokProfileId:e,tiktokSaveListId:t}},{headers:(o={},(0,s.Z)(o,"Content-Type","application/json"),(0,s.Z)(o,"Access-Control-Allow-Origin","*"),(0,s.Z)(o,"Access-Control-Allow-Headers","*"),(0,s.Z)(o,"Authorization","Bearer ".concat(a)),o)})];case 1:return[2,r.sent()]}}))}))()}},{key:"downloadTiktokProfiles",value:function(e){var t=this;return(0,a.Z)((function(){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,d.Z.post("".concat(t.baseUrl,"/export"),e,{responseType:"blob"})];case 1:return[2,n.sent()]}}))}))()}}]),n}(u.b)},30198:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(47568),o=n(51438),r=n(52951),s=n(14924),i=n(88029),l=n(60460),c=n(97582),u=(n(96486),n(32191)),d=n(6154),h=function(e){(0,i.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.call(this,"tiktok-save-list")}return(0,r.Z)(n,[{key:"search",value:function(e){var t=this;return(0,a.Z)((function(){var n,a;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return n=localStorage.getItem("accessToken"),[4,d.Z.post("".concat(t.baseUrl,"/search"),e,{headers:(a={},(0,s.Z)(a,"Content-Type","application/json"),(0,s.Z)(a,"Access-Control-Allow-Origin","*"),(0,s.Z)(a,"Access-Control-Allow-Headers","*"),(0,s.Z)(a,"Authorization","Bearer ".concat(n)),a)})];case 1:return[2,o.sent()]}}))}))()}},{key:"updateNote",value:function(e,t){var n=this;return(0,a.Z)((function(){var a,o,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return a=localStorage.getItem("accessToken"),r={headers:(o={},(0,s.Z)(o,"Content-Type","application/json"),(0,s.Z)(o,"Access-Control-Allow-Origin","*"),(0,s.Z)(o,"Access-Control-Allow-Headers","*"),(0,s.Z)(o,"Authorization","Bearer ".concat(a)),o)},[4,d.Z.post("".concat(n.baseUrl,"/").concat(e,"/tiktok-note-update"),{note:t},r)];case 1:return[2,i.sent()]}}))}))()}},{key:"getAllLabels",value:function(e){var t=this;return(0,a.Z)((function(){var n,a,o;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return n=localStorage.getItem("accessToken"),o={headers:(a={},(0,s.Z)(a,"Content-Type","application/json"),(0,s.Z)(a,"Access-Control-Allow-Origin","*"),(0,s.Z)(a,"Access-Control-Allow-Headers","*"),(0,s.Z)(a,"Authorization","Bearer ".concat(n)),a)},[4,d.Z.post("".concat(t.baseUrl,"/labels/all"),{id:e},o)];case 1:return[2,r.sent()]}}))}))()}},{key:"createLabel",value:function(e,t){var n=this;return(0,a.Z)((function(){var a,o,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return a=localStorage.getItem("accessToken"),r={headers:(o={},(0,s.Z)(o,"Content-Type","application/json"),(0,s.Z)(o,"Access-Control-Allow-Origin","*"),(0,s.Z)(o,"Access-Control-Allow-Headers","*"),(0,s.Z)(o,"Authorization","Bearer ".concat(a)),o)},[4,d.Z.post("".concat(n.baseUrl,"/").concat(e,"/labels"),{name:t},r)];case 1:return[2,i.sent()]}}))}))()}},{key:"deleteLabel",value:function(e,t){var n=this;return(0,a.Z)((function(){var a,o,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return a=localStorage.getItem("accessToken"),r={headers:(o={},(0,s.Z)(o,"Content-Type","application/json"),(0,s.Z)(o,"Access-Control-Allow-Origin","*"),(0,s.Z)(o,"Access-Control-Allow-Headers","*"),(0,s.Z)(o,"Authorization","Bearer ".concat(a)),o)},[4,d.Z.put("".concat(n.baseUrl,"/").concat(e,"/labels"),{name:t},r)];case 1:return[2,i.sent()]}}))}))()}},{key:"removeTiktokProfileFromList",value:function(e){var t=this;return(0,a.Z)((function(){var n,a,o;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return n=localStorage.getItem("accessToken"),o={headers:(a={},(0,s.Z)(a,"Content-Type","application/json"),(0,s.Z)(a,"Access-Control-Allow-Origin","*"),(0,s.Z)(a,"Access-Control-Allow-Headers","*"),(0,s.Z)(a,"Authorization","Bearer ".concat(n)),a)},[4,d.Z.delete("".concat(t.baseUrl,"/").concat(e),o)];case 1:return[2,r.sent()]}}))}))()}}]),n}(u.b)},94387:function(e,t,n){n.r(t);var a=n(47568),o=n(29815),r=n(97582),s=n(85893),i=n(58205),l=n(67294),c=n(82175),u=n(30198),d=n(42896),h=n(58650),v=n(6094),f=n(57074),k=n(99403),g=n(74420),p=n(31772),Z=n(52019),m=n(9473);t.default=function(e){var t=e.visibleRight,n=e.setVisibleRight,b=e.changing,w=e.setChanging,A=e.dataTiktoker,y=(0,l.useRef)(null),C=(0,m.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.isLoggedIn})),T=new u.Z,_=new Z.u,j=(0,l.useState)([]),x=j[0],S=j[1],I=(0,l.useState)([]),L=I[0],U=I[1];(0,l.useEffect)((function(){var e;U(null!==(e=null===A||void 0===A?void 0:A.tiktokSaveListIds)&&void 0!==e?e:[])}),[A]);var N=(0,c.TA)({initialValues:{name:"",tikTokProfileId:""},onSubmit:function(){var e=(0,a.Z)((function(e){var t,a,o,s,i,l,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e&&""==e.name?(y.current.show({severity:"error",summary:"Th\xf4ng b\xe1o",detail:"Kh\xf4ng th\u1ec3 nh\u1eadp gi\xe1 tr\u1ecb r\u1ed7ng",life:2e3}),[2]):x.some((function(t){return t.name===e.name}))?(y.current.show({severity:"error",summary:"Th\xf4ng b\xe1o",detail:"\u0110\xe3 t\u1ed3n t\u1ea1i "+e.name+" trong danh s\xe1ch",life:2e3}),[3,7]):[3,1];case 1:return[4,T.saveOrUpdate({name:e.name,tikTokProfileId:e.tikTokProfileId})];case 2:return a=r.sent(),y.current.show({severity:"success",summary:"Th\xf4ng b\xe1o",detail:"Th\xeam m\u1edbi danh s\xe1ch "+e.name+" th\xe0nh c\xf4ng",life:2e3}),a?[4,_.CheckTiktokSaveList(e.tikTokProfileId,null===a||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.id).then((function(e){n(!1)})).catch((function(e){}))]:[3,4];case 3:r.sent(),r.label=4;case 4:return"success"!=(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.code)?[3,6]:[4,T.search({})];case 5:"success"==(null===(l=r.sent())||void 0===l||null===(i=l.data)||void 0===i?void 0:i.code)&&S(null===l||void 0===l||null===(c=l.data)||void 0===c?void 0:c.data),r.label=6;case 6:N.resetForm(),r.label=7;case 7:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()});(0,l.useEffect)((0,a.Z)((function(){var e,t,n;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return C?[4,T.search({})]:[2];case 1:return"success"==(null===(t=a.sent())||void 0===t||null===(e=t.data)||void 0===e?void 0:e.code)&&S(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data),[2]}}))})),[N.values.name,b,C]);var O=function(){var e=(0,a.Z)((function(e){var t,a,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return t=(0,o.Z)(L),e.checked?[4,_.CheckTiktokSaveList(null===A||void 0===A?void 0:A.id,null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value).then((function(a){var o,r;"success"===(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.code)&&(t.push(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value),y.current.show({severity:"success",summary:"Th\xf4ng b\xe1o",detail:"L\u01b0u v\xe0o danh s\xe1ch th\xe0nh c\xf4ng",life:2e3}),n(!1))})).catch((function(e){}))]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,_.UnCheckTiktokSaveList(null===A||void 0===A?void 0:A.id,null===e||void 0===e||null===(s=e.target)||void 0===s?void 0:s.value).then((function(a){var o,r;"success"===(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.code)&&(t.splice(t.indexOf(e.value),1),y.current.show({severity:"success",summary:"Th\xf4ng b\xe1o",detail:null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message,life:2e3}),n(!1))})).catch((function(e){}))];case 3:r.sent(),r.label=4;case 4:return 0!=t.length&&1!=t.length||w(!b),U(t),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.F,{ref:y,position:"top-left"}),(0,s.jsxs)(i.Y,{className:"w-full custom-sidebar-lists",visible:t,position:"right",showCloseIcon:!1,onHide:function(){return n(!1)},children:[(0,s.jsxs)(d.w,{value:x,emptyMessage:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",scrollable:!0,children:[(0,s.jsx)(h.s,{className:"pt-1 pb-1",body:function(e){return(0,s.jsx)("div",{style:{wordBreak:"break-all"},children:null===e||void 0===e?void 0:e.name})},header:function(){return(0,s.jsxs)("div",{className:"pb-2 pt-2",children:[(0,s.jsxs)("p",{children:["L\u01b0u ng\u01b0\u1eddi \u1ea3nh h\u01b0\u1edfng v\xe0o danh s\xe1ch ",(0,s.jsx)("i",{className:"pi pi-info-circle save_influencer_to_list ml-2 cursor-pointer vertical-align-middle",autohide:"false"})]}),(0,s.jsx)(f.u,{target:".save_influencer_to_list",children:"L\u01b0u ng\u01b0\u1eddi \u1ea3nh h\u01b0\u1edfng v\xe0o danh s\xe1ch"})]})},style:{maxWidth:"80%"}}),(0,s.jsx)(h.s,{className:"pt-1 pb-1",body:function(e){return(0,s.jsx)(p.X,{name:"list",onChange:O,value:null===e||void 0===e?void 0:e.idTiktokSaveList,checked:null===L||void 0===L?void 0:L.includes(null===e||void 0===e?void 0:e.idTiktokSaveList)})},header:null,style:{maxWidth:"50px"}})]}),(0,s.jsxs)("div",{className:"sticky z-5 bg-white flex justify-content-between bottom-custom-sidebar-lists",children:[(0,s.jsx)(v.o,{id:"name",name:"name",value:N.values.name,onChange:function(e){return N.setFieldValue("name",e.target.value)},placeholder:"Nh\u1eadp t\xean danh s\xe1ch mu\u1ed1n l\u01b0u"}),(0,s.jsx)(k.z,{icon:"pi pi-check",className:"p-button-success",type:"submit",onClick:function(){N.setFieldValue("tikTokProfileId",null===A||void 0===A?void 0:A.id),N.handleSubmit(),w(!b)}})]}),(0,s.jsx)("div",{className:"text-center mt-2",children:(0,s.jsx)(k.z,{onClick:function(){return window.open("/components/saved-tiktok-candidates","_blank")},label:"Xem Danh s\xe1ch l\u01b0u"})})]})]})}}}]);